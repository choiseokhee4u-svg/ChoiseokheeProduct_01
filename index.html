<!DOCTYPE html>
<html lang="ko">

<head>
    <style>
        body {
            background: #0f172a;
            color: #fff;
        }
    </style>
    <script src="include.js"></script>
    <link rel="stylesheet" href="style.css?v=3">
</head>

<body>
    <!-- 상단 네비게이션 바 -->
    <nav class="site-nav" id="siteNav">
        <a href="index.html" class="nav-logo">👶 애기동자 신점</a>
        <div class="nav-links">
            <a href="index.html" class="nav-link active">사주</a>
            <a href="zodiac.html" class="nav-link">띠별운세</a>
            <a href="blog.html" class="nav-link">블로그</a>
            <a href="about.html" class="nav-link">소개</a>
        </div>
        <button class="nav-menu-btn" id="navMenuBtn"
            onclick="document.querySelector('.nav-links').classList.toggle('open')">☰</button>
    </nav>

    <!-- 맨 위로 버튼 -->
    <button id="scrollTopBtn" class="scroll-top-btn" onclick="window.scrollTo({top:0,behavior:'smooth'})"
        title="맨 위로">↑</button>

    <div class="scroll-down-indicator">
        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
        </svg>
        <span data-i18n="scroll_down">아래로 스크롤</span>
    </div>
    <div id="transition-overlay"></div>
    <video id="bgVideo" autoplay loop muted playsinline>
        <source src="images/BG_Mudang.mp4" type="video/mp4">
    </video>
    <div id="overlay"></div>
    <canvas id="trailCanvas"></canvas>



    <div id="main-layout">
        <div class="ad-container-top">
            <ins class="adsbygoogle" style="display:block" data-ad-format="autorelaxed"
                data-ad-client="ca-pub-3360310428058423" data-ad-slot="9099114756"></ins>
            <script>
                (adsbygoogle = window.adsbygoogle || []).push({});
            </script>
        </div>
        <main id="main-content" itemscope itemtype="https://schema.org/Service">
            <meta itemprop="serviceType" content="사주 운세 제공">
            <div class="wrap">
                <!-- 오늘의 한마디 Daily Fortune -->
                <div id="dailyFortune" class="card daily-fortune-card">
                    <div class="daily-fortune-header">
                        <span class="daily-icon">🔮</span>
                        <div>
                            <div class="daily-label">오늘의 한마디</div>
                            <div class="daily-date" id="dailyDate"></div>
                        </div>
                    </div>
                    <div class="daily-message" id="dailyMessage"></div>
                    <div class="daily-lucky" id="dailyLucky"></div>
                </div>

                <!-- 띠별 운세 바로가기 배너 -->
                <a href="zodiac.html" class="card zodiac-banner"
                    style="display:flex; align-items:center; gap:14px; padding:18px 20px; text-decoration:none; background:linear-gradient(135deg, rgba(168,85,247,0.2), rgba(0,245,212,0.15)); border:1px solid rgba(168,85,247,0.4); cursor:pointer; transition:all 0.3s ease;">
                    <span style="font-size:2.2rem; filter:drop-shadow(0 0 8px rgba(255,215,102,0.5));">🐍</span>
                    <div style="flex:1;">
                        <div style="color:var(--cyan); font-weight:800; font-size:1rem;">2026 병오년 띠별 운세 보기</div>
                        <div style="color:var(--txt2); font-size:0.8rem; margin-top:3px;">12지신별 재물·연애·건강·직업운 확인하기 →
                        </div>
                    </div>
                    <span style="color:var(--accent); font-size:1.5rem;">→</span>
                </a>

                <!-- 내 운세 저장함 (분석 이력) -->
                <div id="analysisHistory" class="card" style="display:none;">
                    <div style="display:flex; align-items:center; justify-content:space-between; margin-bottom:12px;">
                        <div style="font-weight:800; color:var(--cyan); font-size:0.95rem;">📋 최근 분석 이력</div>
                        <button onclick="clearHistory()"
                            style="background:none; border:none; color:var(--txt2); font-size:0.75rem; cursor:pointer; text-decoration:underline;">전체
                            삭제</button>
                    </div>
                    <div id="historyList"></div>
                </div>

                <div id="inputSection" class="card">
                    <h1 itemprop="name" data-i18n="main_title">👶 애기동자 신점</h1>
                    <p class="sub" itemprop="description" data-i18n="sub_title">애기동자 몸주신이 공수로 알려주는 당신의 운명</p>
                    <div itemprop="provider" itemscope itemtype="https://schema.org/Person">
                        <meta itemprop="name" content="애기동자 신점">
                    </div>
                    <div class="form-g"><label data-i18n="name_label">📛 이름/닉네임</label><input type="text" id="userName"
                            data-i18n-placeholder="name_placeholder" placeholder="ex) 럭키민수" maxlength="20"></div>
                    <div class="form-g"><label data-i18n="gender_label">👤 성별</label>
                        <div class="gender-sel"><button class="on" data-g="M" data-i18n="male">🙋‍♂️ 남자</button><button
                                data-g="F" data-i18n="female">🙋‍♀️
                                여자</button></div>
                    </div>
                    <div class="fortune-sel"><button class="on" data-t="today"
                            data-i18n="fortune_today">⚡오늘</button><button data-t="week"
                            data-i18n="fortune_week">📅이번주</button><button data-t="year"
                            data-i18n="fortune_year">🚀1년</button></div>

                    <div class="tab-row"><button class="on" data-tab="quick"
                            data-i18n="quick_input">⚡빠른입력</button><button data-tab="detail"
                            data-i18n="detail_input">📅선택</button></div>
                    <div id="tab-quick" class="tab-c on">
                        <div class="form-g"><label data-i18n="birthdate_label_quick">🎂 생년월일 8자리</label><input
                                type="text" id="quickDate" data-i18n-placeholder="birthdate_placeholder"
                                placeholder="19990101" maxlength="8" inputmode="numeric"></div>
                    </div>
                    <div id="tab-detail" class="tab-c">
                        <div class="form-g"><label data-i18n="birthdate_label_detail">🎂 생년월일</label>
                            <div class="grid-3"><select id="selYear"></select><select id="selMonth"></select><select
                                    id="selDay"></select></div>
                        </div>
                    </div>
                    <div class="form-g"><label data-i18n="birth_time_label">⏰ 태어난 시간</label>
                        <div class="grid-3" id="timeInputs"><select id="selAmpm">
                                <option value="AM" data-i18n="am">오전</option>
                                <option value="PM" data-i18n="pm">오후</option>
                            </select><select id="selHour"></select><select id="selMinute"></select></div>
                        <div class="chk-row"><input type="checkbox" id="unknownTime"><label for="unknownTime"
                                data-i18n="unknown_time">시간 모름</label>
                        </div>
                    </div>

                    <!-- Compatibility Toggle -->
                    <div class="compat-section"
                        style="margin-top:25px; padding-top:20px; border-top:1px dashed rgba(255,255,255,0.1);">
                        <button id="toggleCompat" class="compat-btn" onclick="toggleCompatibility()">
                            👫 그분과의 궁합도 같이 보기
                        </button>
                    </div>

                    <!-- Partner Input Form -->
                    <div id="partnerInput" class="partner-form" style="display:none;">
                        <h3 class="partner-title">💖 상대방 정보</h3>
                        <div class="form-g">
                            <label>📛 이름/애칭</label>
                            <input type="text" id="partnerName" placeholder="상대방 이름" maxlength="20">
                        </div>
                        <div class="form-g">
                            <label>👤 상대방 성별</label>
                            <div class="gender-sel" id="partnerGenderSel">
                                <button class="on" data-g="M">🙋‍♂️ 남자</button>
                                <button data-g="F">🙋‍♀️ 여자</button>
                            </div>
                        </div>

                        <div class="form-g">
                            <label>🎂 상대방 생년월일 (8자리)</label>
                            <input type="text" id="partnerBirth" placeholder="19990101" maxlength="8"
                                inputmode="numeric">
                        </div>
                        <div class="form-g">
                            <label>⏰ 태어난 시간</label>
                            <div class="grid-2-1" style="display:flex; gap:10px;">
                                <select id="partnerAmpm" style="flex:1;">
                                    <option value="AM">오전</option>
                                    <option value="PM">오후</option>
                                </select>
                                <select id="partnerHour" style="flex:1;">
                                    <!-- Populated by JS -->
                                </select>
                                <select id="partnerMinute" style="flex:1;">
                                    <!-- Populated by JS -->
                                </select>
                            </div>
                            <div class="chk-row">
                                <input type="checkbox" id="partnerUnknownTime">
                                <label for="partnerUnknownTime">시간 모름</label>
                            </div>
                        </div>
                    </div>

                    <div class="trust-badges" style="text-align: center; margin: 24px 0 16px;">
                        <div
                            style="font-size: 0.8rem; color: var(--txt2); margin-bottom: 10px; display: flex; align-items: center; justify-content: center; gap: 4px;">
                            <span style="opacity:0.8">🔒</span> 개인정보 수집 없음 · 데이터 저장 안 함
                        </div>
                        <div
                            style="font-size: 0.85rem; color: var(--txt); background: rgba(168, 85, 247, 0.15); display: inline-flex; align-items: center; gap: 6px; padding: 6px 14px; border-radius: 20px; border: 1px solid rgba(168, 85, 247, 0.3);">
                            <span style="opacity:0.9">📊</span> <span id="analyzeCountDisplay"
                                style="font-weight:700; color: #fff;">517,669</span>회 분석 완료
                        </div>
                    </div>

                    <div class="action-buttons">
                        <button class="submit" onclick="analyze()" data-i18n="analyze_button">애기동자에게 물어보기</button>
                    </div>
                </div>

                <div id="loading">
                    <div class="ld"></div>
                    <p style="margin-top:14px;color:var(--cyan)" data-i18n="loading_text">애기동자 부르는 중... 🍬</p>
                </div>
                <div id="result">
                    <!-- 결과 탭 네비게이션 -->
                    <div class="result-tabs" id="resultTabs">
                        <button class="result-tab active" data-result-tab="tab-myeongshik">명식</button>
                        <button class="result-tab" data-result-tab="tab-haesuk">해석</button>
                        <button class="result-tab" data-result-tab="tab-personality">성격·궁합</button>
                        <button class="result-tab" data-result-tab="tab-lucky">운세·비방</button>
                    </div>

                    <!-- 탭 1: 사주 명식 -->
                    <div class="result-tab-content active" id="tab-myeongshik">
                        <div class="card" id="manseCard">
                            <div class="sec-title" style="justify-content:center" data-i18n="result_title"><span
                                    class="nm" id="n0">OOO</span>에게 내리는 신의 공수
                            </div>
                            <div class="pillars" id="pillarsBox"></div>
                            <div class="saju-msg" id="sajuMsg"></div>
                        </div>

                        <!-- Compatibility Result Card -->
                        <div class="card" id="compatResultCard" style="display:none;">
                            <div class="sec-title" style="justify-content:center">두 사람의 궁합</div>
                            <div id="compatScoreBox"></div>
                            <div id="compatMsg"></div>
                        </div>
                    </div>

                    <!-- 탭 2: 운세 해석 -->
                    <div class="result-tab-content" id="tab-haesuk">
                        <div class="card hero">
                            <div class="sec-title" style="justify-content:center" data-i18n="soul_title"><span
                                    class="nm" id="n1"></span>애기동자님이 알려주는 너의 영혼
                            </div>
                            <div style="display: flex; gap: 10px; justify-content: center; margin-bottom: 10px;">
                                <div
                                    style="flex:1; background:rgba(0,0,0,0.3); padding:20px; border-radius:16px; text-align:center;">
                                    <span style="font-size:0.9rem; color:var(--txt2); display:block; margin-bottom:8px;"
                                        data-i18n="your_deity">너의 주신(主神)</span>
                                    <div id="sajuMbti"
                                        style="font-size:2.5rem; font-weight:800; color:var(--pink); line-height:1.2;">
                                    </div>
                                </div>
                            </div>

                            <div id="soulC" class="soul-c"></div>
                            <div id="soulT" class="soul-t"></div>
                            <div id="genderBadge" style="font-size:.8rem;color:var(--txt2);margin-top:4px"></div>
                            <div id="characterTitle" class="character-title-box" style="display:none;"></div>
                        </div>
                        <div class="card">
                            <div class="theme-tabs"><button class="on" data-th="base"
                                    data-i18n="base_theme">기본</button><button data-th="love"
                                    data-i18n="love_theme">연애</button><button data-th="money"
                                    data-i18n="money_theme">재물</button><button data-th="work"
                                    data-i18n="work_theme">사회</button></div>
                            <div id="storyBox" class="story"></div>
                            <div class="advice-box">
                                <div class="advice-t" data-i18n="advice_title">애기동자의 팩폭 공수</div>
                                <p id="adviceTxt"></p>
                            </div>
                        </div>
                    </div>

                    <!-- 탭 3: 성격·궁합 -->
                    <div class="result-tab-content" id="tab-personality">
                        <div class="card">
                            <div class="sec-title" data-i18n="ancestor_title"><span class="nm" id="n2"></span>네게 깃든 조상신의
                                기운과 살(煞) <span class="sub-t">| 조상과 살풀이</span></div>
                            <div id="radarChart" class="radar-chart"></div>
                            <div id="statChart"></div>
                        </div>
                        <div class="card" id="chemistryCard">
                            <div class="sec-title" style="justify-content:center" data-i18n="best_match_title">영혼의 단짝 &
                                피해야 할 악연</div>
                            <div class="chemistry-content">
                                <div class="chemistry-item best">
                                    <span class="emoji">✦</span>
                                    <div class="chemistry-info">
                                        <strong data-i18n="best_match_label">너에게 힘이 되어주는 귀인</strong>
                                        <p id="bestMatch"></p>
                                    </div>
                                </div>
                                <div class="chemistry-item worst">
                                    <span class="emoji">✧</span>
                                    <div class="chemistry-info">
                                        <strong data-i18n="worst_match_label">만나면 기 빨리는 스타일</strong>
                                        <p id="worstMatch"></p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 탭 4: 운세·비방 -->
                    <div class="result-tab-content" id="tab-lucky">
                        <div class="card">
                            <div class="sec-title" data-i18n="secret_title"><span class="nm" id="n3"></span>액운을 막고 복을
                                부르는
                                비방</div>
                            <div id="luckBox" class="luck-box"></div>
                            <div class="quest-box">
                                <div class="quest-t" data-i18n="quest_title">애동제자의 오늘의 공수</div>
                                <p id="questTxt"></p>
                            </div>
                        </div>
                        <div class="card" id="luckyCard">
                            <div class="sec-title" style="justify-content:center">오늘의 럭키 아이템</div>
                            <div id="luckyItems" style="display:none;"></div>
                        </div>
                    </div>

                    <div class="btn-row">
                        <button class="save-card-btn" onclick="generateCard()">운명카드 저장</button>
                        <button class="reset" onclick="window.location.href=window.location.pathname"
                            data-i18n="retry_button">다시하기</button>
                        <button class="kakao-btn" onclick="shareKakao()" data-i18n="share_kakao_button">카카오 공유</button>
                        <button class="link-btn" onclick="copyLink()" data-i18n="copy_link_button">링크 복사</button>
                    </div>
                    <div class="ad">
                        광고 영역
                        <!-- DP -->
                        <ins class="adsbygoogle" style="display:block" data-ad-format="autorelaxed"
                            data-ad-client="ca-pub-3360310428058423" data-ad-slot="9099114756"></ins>
                        <script>
                            (adsbygoogle = window.adsbygoogle || []).push({});
                        </script>
                    </div>

                    <!-- 사용자 후기 슬라이드 (결과 하단 배치) -->
                    <div class="card review-section" style="padding-bottom: 16px;">
                        <div class="sec-title" style="justify-content:center">이용자 후기</div>

                        <!-- 후기 요약 UI -->
                        <div class="review-summary"
                            style="text-align: center; margin-bottom: 28px; padding-bottom: 24px; border-bottom: 1px solid rgba(255,255,255,0.08);">
                            <div
                                style="color: #FFD166; font-size: 2.2rem; letter-spacing: 2px; text-shadow: 0 0 10px rgba(255, 209, 102, 0.3);">
                                ⭐⭐⭐⭐⭐</div>
                            <div
                                style="font-size: 3rem; font-weight: 800; color: #fff; margin: 4px 0 0; line-height: 1.1;">
                                4.7 <span style="font-size: 1.5rem; color: var(--txt2); font-weight: 600;">/ 5.0</span>
                            </div>
                            <div style="font-size: 0.85rem; color: var(--txt2); margin-bottom: 16px;">총 1,000개 후기</div>
                            <button
                                style="background: rgba(255,255,255,0.05); color: var(--txt); border: 1px solid rgba(255,255,255,0.15); padding: 8px 24px; border-radius: 20px; font-size: 0.85rem; cursor: pointer; transition: all 0.3s ease; font-weight: 600;"
                                onmouseover="this.style.background='rgba(255,255,255,0.1)'"
                                onmouseout="this.style.background='rgba(255,255,255,0.05)'">후기 전체 보기</button>
                        </div>
                        <div class="review-slider" id="reviewSlider">
                            <div class="review-track" id="reviewTrack">
                                <div class="review-card">
                                    <div class="review-stars">⭐⭐⭐⭐⭐</div>
                                    <p class="review-text">"사주 결과가 너무 신기해서 소름 돋았어요! 제 성격이랑 100% 일치해서 깜짝 놀랐습니다. 주변 친구들한테도
                                        다 추천했어요 ㅋㅋ"</p>
                                    <div class="review-author">— 김*서 (28세, 여성)</div>
                                </div>
                                <div class="review-card">
                                    <div class="review-stars">⭐⭐⭐⭐⭐</div>
                                    <p class="review-text">"매일 오늘의 운세 확인하러 와요! 럭키컬러 맞춰서 나갔더니 진짜 좋은 일이 생겼어요. 이제 필수 루틴이에요
                                        👍"</p>
                                    <div class="review-author">— 이*호 (34세, 남성)</div>
                                </div>
                                <div class="review-card">
                                    <div class="review-stars">⭐⭐⭐⭐⭐</div>
                                    <p class="review-text">"궁합 기능이 대박이에요!! 남자친구랑 같이 해봤는데 결과가 너무 찰떡이어서 결혼해야겠다고 결심했습니다 💕"
                                    </p>
                                    <div class="review-author">— 박*영 (31세, 여성)</div>
                                </div>
                                <div class="review-card">
                                    <div class="review-stars">⭐⭐⭐⭐⭐</div>
                                    <p class="review-text">"다른 사주 앱 써봤는데 여기가 제일 정확하고 재밌어요. 애기동자 컨셉이 너무 귀여워서 매일 들어와요 🍬"
                                    </p>
                                    <div class="review-author">— 정*수 (26세, 남성)</div>
                                </div>
                                <div class="review-card">
                                    <div class="review-stars">⭐⭐⭐⭐⭐</div>
                                    <p class="review-text">"이번 달 운세가 재물운 좋다고 해서 복권 샀더니 진짜 당첨됐어요 ㅋㅋ 소액이지만 너무 신기해요!"</p>
                                    <div class="review-author">— 최*진 (42세, 여성)</div>
                                </div>
                            </div>
                        </div>
                        <div class="review-dots" id="reviewDots"></div>
                    </div>
                </div>
                <section class="encyclopedia">
                    <h2 data-i18n="shamanism_title">📜 신점(神占)이란?</h2>
                    <article class="enc-card">
                        <h3 data-i18n="shamanism_article1_title">영적 능력으로 보는 운명</h3>
                        <p data-i18n="shamanism_article1_p">무당의 신점은 사주명리학과 달리, 생년월일시를 기반으로 무당이 모시는 몸주신(산신, 장군신 등)의 영적
                            능력을 빌려 구체적인 화면을 보거나 목소리를 듣는 방식으로 앞날을 예언합니다. 학문적인 사주 해석보다는 신의 목소리(공수)를 직접 전달하는 방식입니다.</p>
                    </article>
                    <article class="enc-card">
                        <h3 data-i18n="shamanism_article2_title">조상과 살(煞), 그리고 굿</h3>
                        <p data-i18n="shamanism_article2_p">신점은 종종 조상 묘탈, 살기(煞氣), 꿈 몽조 등을 통해 개인의 운세를 살핍니다. 굿, 방울, 신칼,
                            오색기 등의 무구를 사용하여 조상신의 맺힌 한을 풀어주거나, 몸에 붙은 살(煞)을 떼어내는 데에 초점을 둡니다. 이를 통해 관재수나 횡액을 막고 운명을 개척하도록
                            돕습니다.</p>
                    </article>
                    <article class="enc-card">
                        <h3 data-i18n="shamanism_article3_title">구체적인 공수</h3>
                        <p data-i18n="shamanism_article3_p">"산소에 묘탈이 났다", "대장·소장 등 소화기 계통이 약하다"와 같이, 신점은 매우 구체적인 신체적,
                            환경적 상황을 족집게처럼 지적하는 것이 특징입니다. 막연한 풀이가 아닌, 지금 당신에게 가장 필요한 말을 신의 목소리로 직접 전합니다.</p>
                    </article>
                    <article class="enc-card">
                        <h3>몸주신과 애기동자</h3>
                        <p>무당에게 내리는 신(몸주신)에는 다양한 종류가 있습니다. 산신, 장군신, 대감신, 선녀신, 그리고 애기동자가 대표적입니다. 그 중 애기동자는 순수하고 천진난만한
                            어린아이의 영혼으로, 솔직담백하게 운명을 전달하는 것이 특징입니다. 애기동자 신점의 애기동자는 딱딱한 운세 풀이가 아닌, 따뜻하면서도 직설적인 공수를 내려 당신이
                            진정으로 알아야 할 것을 전합니다.</p>
                    </article>
                    <article class="enc-card">
                        <h3>오행(五行)과 체질</h3>
                        <p>동양의학에서는 인간의 체질을 오행(木·火·土·金·水)의 균형으로 설명합니다. 사주에 나타난 오행의 분포는 타고난 체질과 성격적 특성을 반영하며, 부족한 오행을 음식,
                            색깔, 방위 등으로 보충하면 건강과 운세 모두 개선될 수 있다고 전해집니다. 예를 들어 목(木)이 부족하면 녹색 채소를 먹고, 수(水)가 부족하면 검은콩이나 해조류가
                            도움이 된다고 합니다.</p>
                    </article>
                </section>
        </main>


    </div>

    <div id="footer-placeholder"></div>
    </div>

    <!-- MBTI Mini Popup -->
    <div id="mbtiMiniPopup" class="mini-popup">
        <button class="mini-close" onclick="this.parentElement.classList.remove('show')">✕</button>
        <span style="font-size:1.5rem">🤔</span>
        <div style="flex:1">
            <div style="color:var(--cyan); font-weight:700; font-size:0.9rem" data-i18n="mbti_popup_q">현실의 나는 어떨까?</div>
            <div style="color:var(--txt2); font-size:0.8rem" data-i18n="mbti_popup_sub">1분컷 MBTI 테스트 하기</div>
        </div>
        <button class="mini-btn" onclick="startMbtiTest(); this.parentElement.classList.remove('show')"
            data-i18n="mbti_popup_btn">GO</button>
    </div>

    <!-- Floating Blog Button -->
    <a href="blog.html" class="floating-blog-btn" title="사주 칼럼 읽기" data-i18n-title="blog_btn_title">
        <span>📚</span>
    </a>

    <script src="https://t1.kakaocdn.net/kakao_js_sdk/2.7.2/kakao.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/lunar-javascript@1.6.12/lunar.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="locales/ko.js?v=2"></script>
    <script src="script_data.js?v=2"></script>
    <script src="script.js?v=2"></script>
</body>

</html>